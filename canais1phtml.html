<!doctype html>
<html lang="pt-br">
<head>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1"/>

<style>
:root{
  --bg:#ffffff;
  --text:#111827;
  --pad:10px;
}

html, body{
  margin:0;
  padding:0;
  height:100%;
  width:100%;
  background:var(--bg);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  color:var(--text);
  overflow:hidden;
}
*{ box-sizing:border-box; }

.titleBar{
  width:100%;
  background:#6FAFB3;
  color:#ffffff;
  text-align:center;
  font-weight:600;
  font-size:14px;
  padding:6px 0;
}

#container{
  position:relative;
  height:100%;
  width:100%;
  padding:var(--pad);
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:8px;
}

#loader{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:10;
  pointer-events:none;
}
.spinner{
  width:32px;
  height:32px;
  border:4px solid #ddd;
  border-top-color:#2b7cff;
  border-radius:50%;
  animation:spin 1s linear infinite;
}
@keyframes spin{ to{ transform:rotate(360deg); } }

.wrap{
  width:100%;
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:12px;
  opacity:0;
  pointer-events:none;
}

/* ===== LINHA SUPERIOR (DONUT + TABELA) ===== */
.topRow{
  width:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:16px;
  min-width:0;
}

/* ===== DONUT ===== */
.chartBox{
  width:clamp(160px, 42vw, 300px);
  aspect-ratio:1/1;
  display:flex;
  align-items:center;
  justify-content:center;
  flex:0 0 auto;
  transform: scale(0.85);   /* reduz sem deslocar */
}

svg{
  width:100%;
  height:100%;
  display:block;
}

/* ===== TABELA ===== */
.tableBox{
  width:clamp(160px, 32vw, 240px);
  min-width:160px;
  max-width:240px;
  border:1px solid #d1d5db;
  border-radius:6px;
  overflow:hidden;
  background:#fff;
  flex:0 0 auto;
}

.progTable{
  width:100%;
  border-collapse:collapse;
  font-size:10px;
}
.progTable th,
.progTable td{
  padding:6px 8px;
  border-bottom:1px solid #e5e7eb;
}
.progTable th{
  text-align:left;
  background:#f9fafb;
}
.progTable td:last-child,
.progTable th:last-child{
  text-align:right;
}
.progTable tr:last-child td{ border-bottom:none; }

/* ===== LEGENDA ===== */
.legend{
  display:flex;
  flex-direction:row;
  justify-content:center;
  align-items:center;
  gap:16px;
  width:100%;
  flex-wrap:wrap;
  margin-top:6px;
}
.legItem{
  display:flex;
  align-items:center;
  gap:6px;
  font-size:11px;
  white-space:nowrap;
}
.swatch{
  width:12px;
  height:12px;
  border-radius:3px;
}

/* ===== RESPONSIVO ===== */
@media (max-width:520px){
  .topRow{
    flex-direction:column;
    gap:10px;
  }
  .chartBox{
    transform: scale(0.8);
  }
}
</style>
</head>

<body>
<div id="container">

  <div class="titleBar">Canais 1P</div>

  <div id="loader"><div class="spinner"></div></div>

  <div class="wrap" id="wrap">
    <div class="topRow">
      <div class="chartBox">
        <svg id="donut" viewBox="0 0 100 100"></svg>
      </div>

      <div class="tableBox">
        <table class="progTable">
          <thead>
            <tr>
              <th>Canal</th>
              <th>Prog %</th>
            </tr>
          </thead>
          <tbody id="progBody"></tbody>
        </table>
      </div>
    </div>

    <div class="legend" id="legend"></div>
  </div>
</div>

<script>
/* ===== JS (mantido – sem mudanças de lógica) ===== */
function showLoader(on){
  document.getElementById("loader").style.display = on ? "flex" : "none";
}
function showUI(on){
  const w=document.getElementById("wrap");
  w.style.opacity=on?"1":"0";
  w.style.pointerEvents=on?"auto":"none";
}

/* Exemplo estático só para layout */
document.getElementById("progBody").innerHTML = `
<tr><td>Loja Física</td><td>1,7%</td></tr>
<tr><td>e-commerce</td><td>-9,9%</td></tr>
<tr><td>Televendas</td><td>-7,1%</td></tr>
`;

document.getElementById("legend").innerHTML = `
<div class="legItem"><span class="swatch" style="background:#1F5A78"></span>Loja Física</div>
<div class="legItem"><span class="swatch" style="background:#0B2E3F"></span>e-commerce</div>
<div class="legItem"><span class="swatch" style="background:#F28C38"></span>Televendas</div>
`;

showLoader(false);
showUI(true);
</script>
</body>
</html>
